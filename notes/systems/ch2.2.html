<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>System Programming</title>
  <link rel="stylesheet" href="../../css/style.css"/>
</head>

<body>
  <main>
    <header>
      <h1><a href="intro.html"> <</a> Chapter 2 : Segmented Virtual Memory</h1>
    </header>

    
    <section>
      <h2>2.2. Virtual-8086 Mode Segmentation</h2>
      <p>Virtual-8086 mode supports 16-bit real mode programs running under
      protected mode. It uses a simple form of memory segmentation,
      optional paging, and limited protection checking. Programs running in
      virtual-8086 mode can access up to 1MB of memory space.
      </p>

      <p>As with real mode segmentation, each segment (CS, DS, ES, FS, GS, SS)
      is aligned on 16-byte boundaries. The segment base is the lowest address
      in a given segment, and is equal to the segment <i>selector * 16</i>. The
      POP and MOV instructions work exactly as in real mode and can be used to
      load a new segment selector into one of the segment registers. When this
      occurs, the selector is updated and the segment base is set to 
      <i>selector * 16</i>. The segment limit and segment attributes are
      unchanged, but are normally 64 KB (the maximum allowable limit) and
      read/write data, respectively.
      </p>

      <p>FAR transfers, with the exception of interrupts and exceptions, operate
      as in real mode. On FAR transfers, the CS (code segment) selector is updated
      to the new value, and the CS segment base is set to <i>selector * 16</i>.
      The CS segment limit and attributes are unchanged, but are usually 64 KB
      and read/write, respectively. Interrupts and exceptions switch the processor
      to protected mode.
      </p>

   </section>
    <nav>
      <p>
        [<a href="ch2.1.html">prev</a>]
        [<a href="intro.html">contents</a>]
        [<a href="../../index.html">home</a>]
        [<a href="ch2.3.html">next</a>]
      </p>
    </nav>
  </main>
</body>
</html>
